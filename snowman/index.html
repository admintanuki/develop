<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="canonical" href="https://fan-chart.com/snowman/">
  
  <title>Snow Man CDå£²ä¸Šæšæ•°æ¨ç§»ã‚°ãƒ©ãƒ•ã¾ã¨ã‚ã€2026æœ€æ–°ã€‘ãƒŸãƒªã‚ªãƒ³è¨˜éŒ²ã¨æˆé•·åˆ†æ</title>
  <meta name="description" content="Snow Manã®æœ€æ–°å£²ä¸Šãƒ‡ãƒ¼ã‚¿ã‚’å¯è¦–åŒ–ã€‚2025å¹´ãƒ™ã‚¹ãƒˆã‚¢ãƒ«ãƒãƒ åˆé€±139.5ä¸‡æšã®ä»¤å’Œæœ€é«˜è¨˜éŒ²ã‹ã‚‰2026å¹´æœ€æ–°ä½œã¾ã§ã€ãƒ‡ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ã®è»Œè·¡ã‚’ã‚°ãƒ©ãƒ•ã§åˆ†æã€‚">
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.0.1"></script>
  
  <style>
    :root {
      --bg: #f8fafc; --card: #ffffff; --text: #334155; --sub: #94a3b8;
      --border: #e2e8f0; --accent-sm: #1b489d;
      --primary-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    }
    body { 
      margin: 0; padding: 0; 
      font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Segoe UI", "Hiragino Kaku Gothic ProN", "Hiragino Sans", "Meiryo", sans-serif; 
      background: var(--bg); color: var(--text); padding-bottom: 60px; line-height: 1.6; 
      scroll-behavior: smooth;
    }
    header { background: #fff; border-bottom: 3px solid var(--accent-sm); padding: 1rem; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
    .header-inner { max-width: 900px; margin: 0 auto; }
    .nav-back { text-align: left; font-size: 11px; margin-bottom: 3px; }
    .header-title { font-size: 1.1rem; margin: 0; font-weight: 800; text-align: center; }

    /* ã‚³ãƒ³ãƒ†ãƒŠä¸Šéƒ¨ã®ä½™ç™½ã‚’æˆ»ã™ */
    .container { max-width: 900px; margin: 0 auto; padding: 15px; }
    .card { background: var(--card); border-radius: 16px; padding: 20px; box-shadow: var(--primary-shadow); margin-bottom: 24px; border: 1px solid var(--border); }
    
    /* é’ã„åˆ†æãƒœãƒƒã‚¯ã‚¹ï¼šä¸Šéƒ¨ã®ä½™ç™½ã®ã¿ã‚’ç¸®å° */
    .analysis-box { 
      background: #eff6ff; border-left: 5px solid var(--accent-sm); border-radius: 8px; 
      padding: 8px 15px 15px 15px; /* ä¸Šã ã‘8pxã«ã€‚æŒ‡ç¤ºé€šã‚Šã“ã“ã‚’è©°ã‚ã¾ã—ãŸ */
      margin-bottom: 5px; 
    }
    .section-title { font-weight: 800; color: var(--accent-sm); display: flex; align-items: center; gap: 8px; margin-bottom: 8px; font-size: 1.1rem; }
    
    .chart-wrapper { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; padding-bottom: 8px; margin-top: 15px; scroll-behavior: smooth; }
    .chart-body { position: relative; height: 460px; min-width: 100%; }
    
    /* ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³ä¸Šã®ä½™ç™½ã‚’æˆ»ã™ */
    .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 15px; margin-top: 15px; }
    select { padding: 10px; border-radius: 10px; border: 1px solid var(--border); font-weight: 700; background: #fff; cursor: pointer; color: var(--text); font-size: 13px; }

    /* æ­´å²ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼šç‚¹ã¨ç·šã®ã‚ºãƒ¬ã‚’ä¿®æ­£ */
    .history-item { position: relative; padding-left: 28px; padding-bottom: 18px; border-left: 2px solid var(--border); margin-left: 6px; }
    .history-item:last-child { border-left: 2px solid transparent; padding-bottom: 0; }
    .history-item::before { 
      content: ""; position: absolute; 
      left: -7px; /* ç·šã®ä¸­å¿ƒã«åˆã‚ã›ã‚‹ */
      top: 7px;  /* æ–‡å­—ã®1è¡Œç›®ä¸­å¤®ã«åˆã‚ã›ã‚‹ */
      width: 12px; height: 12px; border-radius: 50%; background: var(--accent-sm); border: 2px solid #fff; 
      box-shadow: 0 0 0 1px var(--bg); /* ç·šã¨ã®é‡ãªã‚Šã‚’ç¶ºéº—ã«è¦‹ã›ã‚‹ */
    }
    .history-year { font-weight: 800; font-size: 14px; color: var(--accent-sm); margin-bottom: 2px; line-height: 1.4; }
    .history-desc { font-size: 13px; color: #475569; line-height: 1.5; margin: 0; }

    .cd-list { display: grid; gap: 12px; }
    .cd-item-link { text-decoration: none; color: inherit; display: block; }
    .cd-item-base { 
      display: grid; grid-template-columns: 90px 1fr auto; gap: 12px; padding: 12px; 
      border: 1px solid var(--border); border-radius: 14px; background: #fff; align-items: center;
      transition: all 0.2s ease;
    }
    .cd-item-link:hover .cd-item-base { transform: translateY(-3px); box-shadow: 0 10px 20px -5px rgba(0,0,0,0.1); border-color: var(--accent-sm); }
    .cd-thumb { width: 90px; height: 90px; display: flex; align-items: center; justify-content: center; background: #f1f5f9; border-radius: 8px; overflow: hidden; }
    .cd-thumb img { max-width: 100%; height: auto; display: block; }
    .cd-title { font-weight: 800; font-size: 14px; color: var(--accent-sm); line-height: 1.3; margin-bottom: 3px; }
    .sales-val { font-weight: 800; font-size: 15px; color: var(--accent-sm); text-align: right; }
    .badge-million { background: #f59e0b; color: #fff; font-size: 9px; padding: 2px 5px; border-radius: 4px; font-weight: bold; margin-top: 3px; display: inline-block; }
    
    #pageTopBtn {
      position: fixed; bottom: 20px; right: 20px;
      width: 45px; height: 45px; background: var(--accent-sm);
      color: #fff; border-radius: 50%; display: flex; align-items: center; justify-content: center;
      text-decoration: none; font-size: 11px; font-weight: bold;
      opacity: 0; visibility: hidden; transition: all 0.3s ease;
      z-index: 1000; box-shadow: 0 4px 10px rgba(0,0,0,0.3); flex-direction: column;
    }
    #pageTopBtn.show { opacity: 1; visibility: visible; }

    .spinner { width: 28px; height: 28px; border: 3px solid var(--border); border-top: 3px solid var(--accent-sm); border-radius: 50%; animation: spin 0.8s linear infinite; margin: 40px auto; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
  </style>
</head>
<body>

<div id="top"></div>

<header>
  <div class="header-inner">
    <div class="nav-back"><a href="https://fan-chart.com/" style="color: var(--accent-sm); text-decoration: none; font-weight: bold;">â† å…¨ã‚°ãƒ«ãƒ¼ãƒ—æ¯”è¼ƒã‚µã‚¤ãƒˆã¸</a></div>
    <h1 class="header-title">Snow Man æ­´ä»£å£²ä¸Šæ¨ç§»ãƒãƒ£ãƒ¼ãƒˆ</h1>
  </div>
</header>

<div class="container">
  <div id="loading"><div class="spinner"></div></div>
  <div id="mainContent" style="display:none;">
    
    <article class="card">
      <div class="analysis-box">
        <h2 class="section-title">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
          æœ€æ–°ã®å£²ä¸ŠçŠ¶æ³
        </h2>
        <p style="font-size: 14px; line-height: 1.6; color: #1e293b; margin: 0;">
          Snow Manã¯ã€2025å¹´ãƒ™ã‚¹ãƒˆã‚¢ãƒ«ãƒãƒ ãŒåˆé€±139.5ä¸‡æšï¼ˆä»¤å’Œæœ€é«˜ï¼‰è¨˜éŒ²ã¨ã„ã†é‡‘å­—å¡”ã‚’æ‰“ã¡ç«‹ã¦ãŸã€STARTOç¤¾ã‚’ä»£è¡¨ã™ã‚‹ã‚°ãƒ«ãƒ¼ãƒ—ã§ã™ã€‚2026å¹´ã¯ç›®é»’è“®ã•ã‚“ã®æ´»å‹•ä¼‘æ­¢ã‚’ä¹—ã‚Šè¶Šãˆã€ã•ã‚‰ãªã‚‹é«˜ã¿ã¸å‘ã‹ã†ã‚°ãƒ«ãƒ¼ãƒ—ã®è»Œè·¡ã‚’ãµã‚Šã‹ãˆã‚Šã¾ã™ã€‚
        </p>
      </div>

      <div class="controls">
        <select id="salesType"><option value="firstWeek" selected>åˆé€±å£²ä¸Šæ¨ç§»</option><option value="firstDay">åˆæ—¥å£²ä¸Šï¼ˆãƒ•ãƒ©ã‚²ï¼‰</option></select>
        <select id="filter"><option value="all" selected>ã‚·ãƒ³ã‚°ãƒ«ï¼†ã‚¢ãƒ«ãƒãƒ </option><option value="single">ã‚·ãƒ³ã‚°ãƒ«</option><option value="album">ã‚¢ãƒ«ãƒãƒ </option></select>
      </div>
      <div class="chart-wrapper" id="chartWrapper">
        <div class="chart-body" id="chartBody">
          <canvas id="salesChart"></canvas>
        </div>
      </div>
    </article>

    <section class="card">
      <h2 class="section-title" style="color: #475569; border-bottom: 1px solid var(--border); padding-bottom: 8px; margin-bottom: 12px;">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
        Snow Man å£²ä¸Šã®è»Œè·¡ã¨æ­©ã¿
      </h2>
      
      <div class="history-item">
        <h3 class="history-year">2012å¹´ã€œ2018å¹´ï¼šä¸‹ç©ã¿æ™‚ä»£</h3>
        <p class="history-desc">å½“åˆ6äººä½“åˆ¶ã€‚Jr.ã¨ã—ã¦ãƒãƒƒã‚¯ãƒ€ãƒ³ã‚µãƒ¼ã‚„èˆå°ã§å®ŸåŠ›ã‚’ç ”é‘½ã€‚</p>
      </div>
      <div class="history-item">
        <h3 class="history-year">2019å¹´ï¼š9äººä½“åˆ¶ã¸å¤‰æ›´</h3>
        <p class="history-desc">å‘äº•ã€ç›®é»’ã€ãƒ©ã‚¦ãƒ¼ãƒ«ãŒåŠ å…¥ã—æ–°ä½“åˆ¶ã§ãƒ‡ãƒ“ãƒ¥ãƒ¼ã¸åŠ é€Ÿã€‚</p>
      </div>
      <div class="history-item">
        <h3 class="history-year">2020å¹´ï¼šãƒ‡ãƒ“ãƒ¥ãƒ¼ã¨ãƒŸãƒªã‚ªãƒ³</h3>
        <p class="history-desc">1/22ãƒ‡ãƒ“ãƒ¥ãƒ¼ã€‚ã‚·ãƒ³ã‚°ãƒ«ã€D.D.ã€ã§å³ãƒŸãƒªã‚ªãƒ³é”æˆã€‚</p>
      </div>
      <div class="history-item">
        <h3 class="history-year">2022å¹´ï¼šã€silentã€ã§ãƒ–ãƒ¬ã‚¤ã‚¯</h3>
        <p class="history-desc">ãƒ‰ãƒ©ãƒã€silentã€ãŒç¤¾ä¼šç¾è±¡ã«ã€‚ä¸€èˆ¬å±¤ã¸ã®èªçŸ¥ãŒæ€¥ä¸Šæ˜‡ã€‚</p>
      </div>
      <div class="history-item">
        <h3 class="history-year">2023å¹´ï¼šã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³é€²å‡ºï¼†åˆãƒ‰ãƒ¼ãƒ </h3>
        <p class="history-desc">ã€ãã‚Œã‚¹ãƒã€ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³æ˜‡æ ¼ã€‚åˆã®4å¤§ãƒ‰ãƒ¼ãƒ ãƒ„ã‚¢ãƒ¼ã‚’é–‹å‚¬ã€‚</p>
      </div>
      <div class="history-item">
        <h3 class="history-year">2024å¹´ï¼šåˆã®5å¤§ãƒ‰ãƒ¼ãƒ </h3>
        <p class="history-desc">ãƒ‰ãƒ¼ãƒ ãƒ„ã‚¢ãƒ¼ã€RAYSã€ã‚’é–‹å‚¬ã€‚å›½å†…æœ€å¤§ç´šã®å‹•å“¡ã‚’è¨˜éŒ²ã€‚</p>
      </div>
      <div class="history-item">
        <h3 class="history-year">2025å¹´ï¼š5å‘¨å¹´ï¼†åˆã‚¹ã‚¿ã‚¸ã‚¢ãƒ </h3>
        <p class="history-desc">ãƒ™ã‚¹ãƒˆç›¤ãŒåˆé€±139.5ä¸‡æšã€‚åˆã®å›½ç«‹ç«¶æŠ€å ´ãƒ©ã‚¤ãƒ–ã‚’é–‹å‚¬ã€‚</p>
      </div>
      <div class="history-item">
        <h3 class="history-year">2026å¹´ï¼šä¸€æ™‚8äººä½“åˆ¶ã§ã®æŒ‘æˆ¦</h3>
        <p class="history-desc">ç›®é»’è“®ãŒæµ·å¤–ãƒ‰ãƒ©ãƒå‡ºæ¼”ã®ãŸã‚ä¼‘æ­¢ã€‚8äººã§æ´»å‹•ç¶™ç¶šä¸­ã€‚</p>
      </div>
    </section>

    <div id="cdList" class="cd-list"></div>
  </div>
</div>

<a href="#top" id="pageTopBtn"><span>â–²</span>TOP</a>

<script>
Chart.register(ChartDataLabels);

const SHEET_DATA_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQxQ9MthYXl_ZlJ3cmbzAqJZHI4e_wACYUhpdqK0aoHuwUlodXL182IXNUt__rALT6JounkCi8PK7mS/pub?gid=0&single=true&output=csv";

const MANUAL_EVENTS = [
  { date: "2022.10.06", label: "ã€silentã€ç¤¾ä¼šç¾è±¡çš„ãƒ’ãƒƒãƒˆ" },
  { date: "2023.04.28", label: "ã€Œãã‚Œã‚¹ãƒã€ã‚´ãƒ¼ãƒ«ãƒ‡ãƒ³é€²å‡º" },
  { date: "2024.11.09", label: "åˆã®5å¤§ãƒ‰ãƒ¼ãƒ ãƒ„ã‚¢ãƒ¼é–‹å§‹" },
  { date: "2025.04.19", label: "åˆã®å›½ç«‹ãƒ©ã‚¤ãƒ–" }
];

let allData = [], chart = null;

function parseCSV(text) {
  const result = [];
  const lines = text.split(/\r?\n/).filter(l => l.trim());
  const headers = lines[0].split(',').map(h => h.trim());
  for (let i = 1; i < lines.length; i++) {
    const row = []; let current = ''; let inQuotes = false; const line = lines[i];
    for (let j = 0; j < line.length; j++) {
      const char = line[j];
      if (char === '"') inQuotes = !inQuotes;
      else if (char === ',' && !inQuotes) { row.push(current); current = ''; } else { current += char; }
    }
    row.push(current);
    const obj = {};
    headers.forEach((h, idx) => {
      let val = row[idx] ? row[idx].trim() : "";
      if (val.startsWith('"') && val.endsWith('"')) val = val.substring(1, val.length - 1);
      obj[h] = val;
    });
    result.push(obj);
  }
  return result;
}

async function loadData() {
  try {
    const res = await fetch(SHEET_DATA_URL);
    const raw = parseCSV(await res.text());
    allData = raw.map(d => ({
      releaseDate: d.releaseDate,
      group: d.group,
      title: d.title,
      category: d.category,
      firstDay: parseInt(d.firstDay) || null,
      firstWeek: parseInt(d.firstWeek) || null,
      seller: d.seller || "#",
      affiliate: d.affiliate || ""
    })).filter(c => c.group === "Snow Man");
    document.getElementById('loading').style.display = 'none';
    document.getElementById('mainContent').style.display = 'block';
    render();
    scrollToEnd();
  } catch (e) { console.error(e); }
}

function scrollToEnd() {
  const wrapper = document.getElementById('chartWrapper');
  setTimeout(() => { wrapper.scrollLeft = wrapper.scrollWidth; }, 150);
}

function render() {
  const type = document.getElementById("salesType").value;
  const f = document.getElementById("filter").value;
  let chartSource = allData.filter(c => (f === "all" || c.category === f) && c[type] !== null)
                           .sort((a,b) => a.releaseDate.localeCompare(b.releaseDate));
  let listSource = [...chartSource].sort((a,b) => b.releaseDate.localeCompare(a.releaseDate));

  const chartWrapper = document.getElementById("chartWrapper");
  const chartBody = document.getElementById("chartBody");
  const finalWidth = Math.max(chartWrapper.clientWidth, chartSource.length * 85);
  chartBody.style.width = `${finalWidth}px`;

  const annotations = {};
  MANUAL_EVENTS.forEach((ev, i) => {
    const evTime = new Date(ev.date.replace(/\./g, '/')).getTime();
    let exactIdx = -1;
    for (let j = 0; j < chartSource.length - 1; j++) {
      const d1 = new Date(chartSource[j].releaseDate.replace(/\./g, '/')).getTime();
      const d2 = new Date(chartSource[j+1].releaseDate.replace(/\./g, '/')).getTime();
      if (evTime >= d1 && evTime <= d2) {
        exactIdx = j + (evTime - d1) / (d2 - d1);
        break;
      }
    }
    if (exactIdx === -1) {
       if(evTime > new Date(chartSource[chartSource.length-1].releaseDate.replace(/\./g, '/')).getTime()) {
         exactIdx = chartSource.length - 0.5;
       } else if (evTime < new Date(chartSource[0].releaseDate.replace(/\./g, '/')).getTime()) {
         exactIdx = -0.5;
       }
    }

    if (exactIdx !== -1) {
      const heightStep = (i % 2 === 0) ? -40 : -75;
      annotations['line' + i] = {
        type: 'line', xMin: exactIdx, xMax: exactIdx,
        borderColor: '#e11d48', borderWidth: 2, borderDash: [4, 4],
        label: {
          display: true, content: ev.label, backgroundColor: '#e11d48', color: '#fff',
          font: { size: 10, weight: 'bold' }, position: 'end', yAdjust: heightStep, padding: 5, borderRadius: 4
        }
      };
    }
  });

  if (chart) chart.destroy();
  chart = new Chart(document.getElementById("salesChart"), {
    type: 'line',
    data: {
      labels: chartSource.map(c => c.title.substring(0, 8) + (c.title.length > 8 ? ".." : "")),
      datasets: [{
        data: chartSource.map(c => c[type]),
        borderColor: '#1b489d', backgroundColor: '#1b489d22',
        borderWidth: 2, fill: true, tension: 0.3, pointBackgroundColor: "#fff",
        pointBorderColor: '#1b489d', pointRadius: 5
      }]
    },
    options: {
      responsive: true, maintainAspectRatio: false, clip: false,
      layout: { padding: { top: 120 } },
      plugins: {
        legend: { display: false },
        datalabels: {
          anchor: 'end', align: 'top', offset: 6,
          formatter: (v, ctx) => {
            const label = (v / 10000).toFixed(1) + "ä¸‡";
            return v >= 1000000 ? 'ğŸ‘‘' + label : label;
          },
          color: (ctx) => ctx.dataset.data[ctx.dataIndex] >= 1000000 ? '#f59e0b' : '#64748b', 
          font: { size: 10, weight: 'bold' }
        },
        annotation: { annotations: annotations }
      },
      scales: {
        y: { ticks: { callback: v => (v/10000) + "ä¸‡", font: {size: 9} }, grace: '25%', grid: { color: '#f1f5f9' } },
        x: { grid: { display: false }, ticks: { font: {size: 10, weight: '700'}, maxRotation: 45, minRotation: 45 } }
      }
    }
  });

  document.getElementById("cdList").innerHTML = listSource.map(c => `
    <a href="${c.seller}" class="cd-item-link" target="_blank" rel="noopener noreferrer">
      <div class="cd-item-base">
        <div class="cd-thumb">${c.affiliate ? `<img src="${c.affiliate}">` : ''}</div>
        <div>
          <div class="cd-title">${c.title}</div>
          <div style="font-size:10.5px; color:var(--sub); font-weight:700;">${c.releaseDate} | ${c.category.toUpperCase()}</div>
        </div>
        <div class="sales-val">${(c[type]/10000).toFixed(1)}ä¸‡æš${c.firstWeek >= 1000000 ? '<br><span class="badge-million">MILLION</span>' : ''}</div>
      </div>
    </a>`).join("");
}

window.addEventListener('scroll', () => {
  const btn = document.getElementById('pageTopBtn');
  if (window.pageYOffset > 300) btn.classList.add('show');
  else btn.classList.remove('show');
});

window.addEventListener('resize', () => { render(); scrollToEnd(); });
document.getElementById("salesType").addEventListener("change", render);
document.getElementById("filter").addEventListener("change", render);
loadData();
</script>
</body>
</html>